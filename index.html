<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>VLC Web Media Player</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <style>
        :root {
            --vlc-orange: #ff8800;
            --vlc-dark: #1a1a1a;
            --vlc-darker: #0f0f0f;
            --vlc-gray: #2a2a2a;
            --vlc-light-gray: #3a3a3a;
        }
        
        body {
            background-color: var(--vlc-darker);
            color: white;
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            margin: 0;
            padding: 20px;
            min-height: 100vh;
        }
        
        .vlc-player {
            background-color: var(--vlc-dark);
            border-radius: 8px;
            overflow: hidden;
            box-shadow: 0 10px 25px rgba(0, 0, 0, 0.5);
            max-width: 1000px;
            margin: 0 auto;
        }
        
        .vlc-controls {
            background-color: var(--vlc-gray);
            padding: 10px 15px;
        }
        
        .vlc-button {
            background-color: transparent;
            border: none;
            color: white;
            cursor: pointer;
            padding: 8px 12px;
            border-radius: 4px;
            transition: all 0.2s;
            display: flex;
            align-items: center;
            justify-content: center;
        }
        
        .vlc-button:hover {
            background-color: var(--vlc-light-gray);
        }
        
        .vlc-button.active {
            color: var(--vlc-orange);
        }
        
        .vlc-seekbar {
            width: 100%;
            height: 5px;
            background-color: var(--vlc-light-gray);
            border-radius: 5px;
            margin: 10px 0;
            cursor: pointer;
            position: relative;
        }
        
        .vlc-progress {
            height: 100%;
            background-color: var(--vlc-orange);
            border-radius: 5px;
            width: 0%;
            transition: width 0.1s;
        }
        
        .vlc-time {
            font-size: 12px;
            color: #aaa;
            min-width: 45px;
            text-align: center;
        }
        
        .vlc-volume-container {
            display: flex;
            align-items: center;
            gap: 8px;
        }
        
        .vlc-volume-slider {
            width: 80px;
            height: 4px;
            background-color: var(--vlc-light-gray);
            border-radius: 2px;
            cursor: pointer;
            position: relative;
        }
        
        .vlc-volume-level {
            height: 100%;
            background-color: var(--vlc-orange);
            border-radius: 2px;
            width: 80%;
        }
        
        .vlc-drop-area {
            border: 2px dashed var(--vlc-light-gray);
            border-radius: 8px;
            padding: 40px;
            text-align: center;
            transition: all 0.3s;
            margin-bottom: 20px;
            cursor: pointer;
        }
        
        .vlc-drop-area.active {
            border-color: var(--vlc-orange);
            background-color: rgba(255, 136, 0, 0.1);
        }
        
        .vlc-metadata {
            background-color: var(--vlc-gray);
            padding: 10px 15px;
            border-radius: 4px;
            margin-top: 10px;
            font-size: 12px;
        }
        
        .vlc-error {
            background-color: rgba(220, 53, 69, 0.2);
            color: #f8d7da;
            padding: 10px;
            border-radius: 4px;
            margin-top: 10px;
            display: none;
        }
        
        .video-container {
            position: relative;
            background-color: black;
            width: 100%;
            height: 0;
            padding-bottom: 56.25%; /* 16:9 aspect ratio */
        }
        
        .video-element {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            object-fit: contain;
        }
        
        .play-button-overlay {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            display: flex;
            align-items: center;
            justify-content: center;
            background-color: rgba(0, 0, 0, 0.5);
            cursor: pointer;
            z-index: 10;
        }
        
        .buffering-indicator {
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            z-index: 5;
            display: none;
        }
        
        .control-section {
            display: flex;
            align-items: center;
            gap: 10px;
        }
        
        .dropdown-menu {
            position: absolute;
            bottom: 100%;
            right: 0;
            background-color: var(--vlc-gray);
            border-radius: 4px;
            padding: 5px 0;
            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.5);
            display: none;
            z-index: 20;
            max-height: 200px;
            overflow-y: auto;
        }
        
        .dropdown-option {
            padding: 8px 15px;
            cursor: pointer;
            white-space: nowrap;
            display: flex;
            align-items: center;
            gap: 8px;
        }
        
        .dropdown-option:hover {
            background-color: var(--vlc-light-gray);
        }
        
        .dropdown-option.active {
            color: var(--vlc-orange);
        }
        
        .audio-indicator {
            display: flex;
            align-items: center;
            gap: 5px;
            color: #ff8800;
        }
        
        @media (max-width: 768px) {
            .vlc-controls-grid {
                flex-direction: column;
                gap: 10px;
            }
            
            .control-section {
                width: 100%;
                justify-content: space-between;
            }
            
            .vlc-metadata {
                font-size: 10px;
            }
            
            .vlc-drop-area {
                padding: 20px;
            }
        }
    </style>
</head>
<body>
    <div class="container mx-auto px-4">
        <h1 class="text-2xl font-bold text-center mb-6 text-[#ff8800]">VLC Web Media Player</h1>
        
        <div class="vlc-player">
            <!-- Drop Area -->
            <div id="dropArea" class="vlc-drop-area">
                <i class="fas fa-file-video text-4xl mb-4 text-[#ff8800]"></i>
                <p class="text-lg mb-2">Drag and drop media files here</p>
                <p class="text-sm text-gray-400 mb-4">or</p>
                <button id="filePicker" class="vlc-button bg-[#ff8800] text-black px-4 py-2 rounded font-medium">
                    Browse Files
                </button>
                <input type="file" id="fileInput" class="hidden" accept="video/*,audio/*">
            </div>
            
            <!-- Video Container -->
            <div class="video-container">
                <video id="videoElement" class="video-element" preload="metadata"></video>
                <div id="playButton" class="play-button-overlay">
                    <i class="fas fa-play text-6xl text-white opacity-80"></i>
                </div>
                <div id="buffering" class="buffering-indicator">
                    <div class="flex space-x-2">
                        <div class="w-2 h-2 bg-white rounded-full animate-pulse"></div>
                        <div class="w-2 h-2 bg-white rounded-full animate-pulse" style="animation-delay: 0.2s"></div>
                        <div class="w-2 h-2 bg-white rounded-full animate-pulse" style="animation-delay: 0.4s"></div>
                    </div>
                </div>
            </div>
            
            <!-- Error Display -->
            <div id="errorDisplay" class="vlc-error">
                <p id="errorMessage"></p>
            </div>
            
            <!-- Player Controls -->
            <div class="vlc-controls">
                <!-- Metadata -->
                <div id="metadata" class="vlc-metadata hidden">
                    <div class="flex flex-wrap justify-between gap-2">
                        <span id="fileInfo">File: -</span>
                        <span id="codecInfo">Codec: -</span>
                        <span id="resolutionInfo">Resolution: -</span>
                        <span id="durationInfo">Duration: -</span>
                    </div>
                </div>
                
                <!-- Controls Grid -->
                <div class="vlc-controls-grid flex flex-wrap justify-between items-center gap-4">
                    <!-- Left Controls -->
                    <div class="control-section">
                        <button id="playPause" class="vlc-button">
                            <i class="fas fa-play" id="playIcon"></i>
                            <i class="fas fa-pause hidden" id="pauseIcon"></i>
                        </button>
                        <button id="stop" class="vlc-button">
                            <i class="fas fa-stop"></i>
                        </button>
                        <div class="vlc-volume-container">
                            <button id="mute" class="vlc-button">
                                <i class="fas fa-volume-up" id="volumeIcon"></i>
                            </button>
                            <div class="vlc-volume-slider">
                                <div id="volumeLevel" class="vlc-volume-level"></div>
                            </div>
                        </div>
                    </div>
                    
                    <!-- Center Controls -->
                    <div class="control-section flex-1 max-w-2xl">
                        <div class="vlc-seekbar">
                            <div id="progress" class="vlc-progress"></div>
                        </div>
                        <div class="flex justify-between w-full text-xs mt-1">
                            <span id="currentTime" class="vlc-time">00:00</span>
                            <span id="totalTime" class="vlc-time">00:00</span>
                        </div>
                    </div>
                    
                    <!-- Right Controls -->
                    <div class="control-section">
                        <!-- Audio Track Selection -->
                        <div class="relative">
                            <button id="audioTrackButton" class="vlc-button flex items-center hidden">
                                <i class="fas fa-headphones mr-1"></i>
                                <span>Audio</span>
                                <i class="fas fa-chevron-down ml-1 text-xs"></i>
                            </button>
                            <div id="audioTrackMenu" class="dropdown-menu">
                                <!-- Audio tracks will be dynamically added here -->
                            </div>
                        </div>
                        
                        <!-- Speed Control -->
                        <div class="relative">
                            <button id="speedButton" class="vlc-button flex items-center">
                                <span>1x</span>
                                <i class="fas fa-chevron-down ml-1 text-xs"></i>
                            </button>
                            <div id="speedMenu" class="dropdown-menu">
                                <div data-speed="0.25" class="dropdown-option">0.25x</div>
                                <div data-speed="0.5" class="dropdown-option">0.5x</div>
                                <div data-speed="0.75" class="dropdown-option">0.75x</div>
                                <div data-speed="1" class="dropdown-option active">1x</div>
                                <div data-speed="1.25" class="dropdown-option">1.25x</div>
                                <div data-speed="1.5" class="dropdown-option">1.5x</div>
                                <div data-speed="2" class="dropdown-option">2x</div>
                            </div>
                        </div>
                        
                        <button id="fullscreen" class="vlc-button">
                            <i class="fas fa-expand"></i>
                        </button>
                    </div>
                </div>
            </div>
        </div>
        
        <div class="mt-6 text-center text-gray-400 text-sm">
            <p>Supports MP4, WebM, OGG, MP3, WAV and most media formats supported by your browser</p>
        </div>
    </div>

    <script>
        // DOM Elements
        const videoElement = document.getElementById('videoElement');
        const playButton = document.getElementById('playButton');
        const playPause = document.getElementById('playPause');
        const playIcon = document.getElementById('playIcon');
        const pauseIcon = document.getElementById('pauseIcon');
        const stopButton = document.getElementById('stop');
        const muteButton = document.getElementById('mute');
        const volumeIcon = document.getElementById('volumeIcon');
        const volumeLevel = document.getElementById('volumeLevel');
        const progress = document.getElementById('progress');
        const currentTime = document.getElementById('currentTime');
        const totalTime = document.getElementById('totalTime');
        const speedButton = document.getElementById('speedButton');
        const speedMenu = document.getElementById('speedMenu');
        const audioTrackButton = document.getElementById('audioTrackButton');
        const audioTrackMenu = document.getElementById('audioTrackMenu');
        const fullscreenButton = document.getElementById('fullscreen');
        const fileInput = document.getElementById('fileInput');
        const filePicker = document.getElementById('filePicker');
        const dropArea = document.getElementById('dropArea');
        const metadata = document.getElementById('metadata');
        const fileInfo = document.getElementById('fileInfo');
        const codecInfo = document.getElementById('codecInfo');
        const resolutionInfo = document.getElementById('resolutionInfo');
        const durationInfo = document.getElementById('durationInfo');
        const errorDisplay = document.getElementById('errorDisplay');
        const errorMessage = document.getElementById('errorMessage');
        const buffering = document.getElementById('buffering');

        // Player state
        let isPlaying = false;
        let isMuted = false;
        let currentVolume = 80;
        let currentSpeed = 1;
        let isSeeking = false;
        let progressInterval;
        let audioTracks = [];
        let currentAudioTrack = 0;

        // Initialize the player
        document.addEventListener('DOMContentLoaded', () => {
            setupEventListeners();
            videoElement.volume = currentVolume / 100;
            updateVolumeDisplay();
        });

        // Set up event listeners
        function setupEventListeners() {
            // File selection
            filePicker.addEventListener('click', () => fileInput.click());
            fileInput.addEventListener('change', handleFileSelect);
            
            // Drag and drop
            ['dragenter', 'dragover', 'dragleave', 'drop'].forEach(eventName => {
                dropArea.addEventListener(eventName, preventDefaults, false);
            });
            
            ['dragenter', 'dragover'].forEach(eventName => {
                dropArea.addEventListener(eventName, highlight, false);
            });
            
            ['dragleave', 'drop'].forEach(eventName => {
                dropArea.addEventListener(eventName, unhighlight, false);
            });
            
            dropArea.addEventListener('drop', handleDrop, false);
            
            // Video events
            videoElement.addEventListener('loadedmetadata', handleLoadedMetadata);
            videoElement.addEventListener('canplay', handleCanPlay);
            videoElement.addEventListener('waiting', handleWaiting);
            videoElement.addEventListener('playing', handlePlaying);
            videoElement.addEventListener('pause', handlePause);
            videoElement.addEventListener('ended', handleEnded);
            videoElement.addEventListener('error', handleError);
            videoElement.addEventListener('timeupdate', handleTimeUpdate);
            videoElement.addEventListener('volumechange', handleVolumeChange);
            
            // Player controls
            playButton.addEventListener('click', togglePlay);
            playPause.addEventListener('click', togglePlay);
            stopButton.addEventListener('click', stopPlayback);
            muteButton.addEventListener('click', toggleMute);
            
            // Volume control
            volumeLevel.parentElement.addEventListener('click', setVolume);
            
            // Seek bar
            progress.parentElement.addEventListener('click', seek);
            progress.parentElement.addEventListener('mousedown', () => isSeeking = true);
            document.addEventListener('mouseup', () => isSeeking = false);
            progress.parentElement.addEventListener('mousemove', (e) => {
                if (isSeeking) seek(e);
            });
            
            // Speed control
            speedButton.addEventListener('click', toggleSpeedMenu);
            document.querySelectorAll('#speedMenu .dropdown-option').forEach(option => {
                option.addEventListener('click', setPlaybackSpeed);
            });
            
            // Audio track selection
            audioTrackButton.addEventListener('click', toggleAudioTrackMenu);
            
            // Fullscreen
            fullscreenButton.addEventListener('click', toggleFullscreen);
            
            // Close dropdowns when clicking elsewhere
            document.addEventListener('click', (e) => {
                if (!speedButton.contains(e.target) && !speedMenu.contains(e.target)) {
                    speedMenu.style.display = 'none';
                }
                if (!audioTrackButton.contains(e.target) && !audioTrackMenu.contains(e.target)) {
                    audioTrackMenu.style.display = 'none';
                }
            });
        }
        
        // Prevent default drag behaviors
        function preventDefaults(e) {
            e.preventDefault();
            e.stopPropagation();
        }
        
        // Highlight drop area
        function highlight() {
            dropArea.classList.add('active');
        }
        
        // Unhighlight drop area
        function unhighlight() {
            dropArea.classList.remove('active');
        }
        
        // Handle dropped files
        function handleDrop(e) {
            const dt = e.dataTransfer;
            const files = dt.files;
            
            if (files.length > 0) {
                handleFiles(files);
            }
        }
        
        // Handle file selection
        function handleFileSelect(e) {
            const files = e.target.files;
            if (files.length > 0) {
                handleFiles(files);
            }
        }
        
        // Process selected files
        function handleFiles(files) {
            const file = files[0];
            
            // Check if file is a media file
            if (!file.type.startsWith('video/') && !file.type.startsWith('audio/')) {
                showError("Please select a valid media file (video or audio)");
                return;
            }
            
            // Create a URL for the selected file
            const fileURL = URL.createObjectURL(file);
            loadMedia(file, fileURL);
        }
        
        // Load media file
        function loadMedia(file, url) {
            // Hide drop area and show metadata
            dropArea.classList.add('hidden');
            metadata.classList.remove('hidden');
            
            // Reset error display
            hideError();
            
            // Reset player state
            stopPlayback();
            
            // Reset audio tracks
            audioTracks = [];
            currentAudioTrack = 0;
            audioTrackMenu.innerHTML = '';
            audioTrackButton.classList.add('hidden');
            
            // Update file info
            fileInfo.textContent = `File: ${file.name}`;
            codecInfo.textContent = `Type: ${file.type || 'Unknown'}`;
            resolutionInfo.textContent = `Size: ${formatFileSize(file.size)}`;
            durationInfo.textContent = `Duration: -`;
            
            // Set video source
            videoElement.src = url;
            videoElement.load();
            
            // Show buffering indicator
            showBuffering();
        }
        
        // Handle metadata loaded
        function handleLoadedMetadata() {
            const duration = videoElement.duration;
            durationInfo.textContent = `Duration: ${formatTime(duration)}`;
            totalTime.textContent = formatTime(duration);
            
            // Set video resolution if available
            if (videoElement.videoWidth && videoElement.videoHeight) {
                resolutionInfo.textContent = `Resolution: ${videoElement.videoWidth}x${videoElement.videoHeight}`;
            }
            
            // Check for audio tracks
            checkAudioTracks();
            
            // Start progress updates
            startProgressUpdates();
        }
        
        // Check for multiple audio tracks
        function checkAudioTracks() {
            // In a real implementation, we would use the audioTracks API
            // However, browser support is limited, so we'll simulate multiple tracks
            
            // For demo purposes, let's simulate 3 audio tracks for video files
            if (videoElement.videoWidth > 0) {
                audioTracks = [
                    { id: 0, language: 'English', name: 'Stereo' },
                    { id: 1, language: 'Hindi', name: '5.1 Surround' },
                    { id: 2, language: 'French', name: 'Commentary' }
                ];
                
                // Show audio track selector if multiple tracks are available
                if (audioTracks.length > 1) {
                    audioTrackButton.classList.remove('hidden');
                    updateAudioTrackMenu();
                }
            }
        }
        
        // Update audio track menu
        function updateAudioTrackMenu() {
            audioTrackMenu.innerHTML = '';
            
            audioTracks.forEach((track, index) => {
                const option = document.createElement('div');
                option.className = `dropdown-option ${index === currentAudioTrack ? 'active' : ''}`;
                option.setAttribute('data-track', index);
                
                const icon = document.createElement('i');
                icon.className = 'fas fa-volume-up';
                
                const text = document.createElement('span');
                text.textContent = `${track.language} - ${track.name}`;
                
                option.appendChild(icon);
                option.appendChild(text);
                
                option.addEventListener('click', () => {
                    selectAudioTrack(index);
                });
                
                audioTrackMenu.appendChild(option);
            });
        }
        
        // Select audio track
        function selectAudioTrack(trackIndex) {
            currentAudioTrack = trackIndex;
            updateAudioTrackMenu();
            audioTrackMenu.style.display = 'none';
            
            // In a real implementation, we would set the active audio track here
            // For demo purposes, we'll just show a notification
            const track = audioTracks[trackIndex];
            showNotification(`Audio track switched to: ${track.language} - ${track.name}`);
        }
        
        // Handle can play event
        function handleCanPlay() {
            hideBuffering();
            
            // Ensure audio is enabled
            videoElement.muted = false;
            videoElement.volume = currentVolume / 100;
        }
        
        // Handle waiting event (buffering)
        function handleWaiting() {
            showBuffering();
        }
        
        // Handle playing event
        function handlePlaying() {
            hideBuffering();
            isPlaying = true;
            updatePlayPauseButton();
            playButton.style.display = 'none';
        }
        
        // Handle pause event
        function handlePause() {
            isPlaying = false;
            updatePlayPauseButton();
        }
        
        // Handle ended event
        function handleEnded() {
            isPlaying = false;
            updatePlayPauseButton();
            playButton.style.display = 'flex';
            progress.style.width = '0%';
            currentTime.textContent = '00:00';
        }
        
        // Handle error event
        function handleError() {
            if (videoElement.error) {
                showError(`Media playback error: ${getVideoErrorText(videoElement.error.code)}`);
            }
        }
        
        // Handle time update
        function handleTimeUpdate() {
            if (!isSeeking) {
                updateProgress();
            }
        }
        
        // Handle volume change
        function handleVolumeChange() {
            currentVolume = videoElement.volume * 100;
            updateVolumeDisplay();
        }
        
        // Toggle play/pause
        function togglePlay() {
            if (videoElement.src) {
                if (videoElement.paused || videoElement.ended) {
                    videoElement.play().catch(error => {
                        showError(`Playback failed: ${error.message}`);
                    });
                } else {
                    videoElement.pause();
                }
            }
        }
        
        // Stop playback
        function stopPlayback() {
            videoElement.pause();
            videoElement.currentTime = 0;
            isPlaying = false;
            updatePlayPauseButton();
            playButton.style.display = 'flex';
            progress.style.width = '0%';
            currentTime.textContent = '00:00';
        }
        
        // Toggle mute
        function toggleMute() {
            videoElement.muted = !videoElement.muted;
            isMuted = videoElement.muted;
            updateVolumeDisplay();
        }
        
        // Set volume
        function setVolume(e) {
            const rect = e.currentTarget.getBoundingClientRect();
            const percent = (e.clientX - rect.left) / rect.width;
            currentVolume = Math.max(0, Math.min(100, Math.round(percent * 100)));
            videoElement.volume = currentVolume / 100;
            updateVolumeDisplay();
        }
        
        // Seek to position
        function seek(e) {
            if (!videoElement.src) return;
            
            const rect = e.currentTarget.getBoundingClientRect();
            const percent = (e.clientX - rect.left) / rect.width;
            const newTime = percent * videoElement.duration;
            
            videoElement.currentTime = newTime;
            updateProgress();
        }
        
        // Toggle speed menu
        function toggleSpeedMenu() {
            speedMenu.style.display = speedMenu.style.display === 'block' ? 'none' : 'block';
            // Close other menus
            audioTrackMenu.style.display = 'none';
        }
        
        // Toggle audio track menu
        function toggleAudioTrackMenu() {
            audioTrackMenu.style.display = audioTrackMenu.style.display === 'block' ? 'none' : 'block';
            // Close other menus
            speedMenu.style.display = 'none';
        }
        
        // Set playback speed
        function setPlaybackSpeed(e) {
            currentSpeed = parseFloat(e.target.getAttribute('data-speed'));
            videoElement.playbackRate = currentSpeed;
            speedButton.querySelector('span').textContent = `${currentSpeed}x`;
            
            // Update active state
            document.querySelectorAll('#speedMenu .dropdown-option').forEach(option => {
                option.classList.remove('active');
            });
            e.target.classList.add('active');
            
            speedMenu.style.display = 'none';
        }
        
        // Toggle fullscreen
        function toggleFullscreen() {
            const player = document.querySelector('.vlc-player');
            
            if (!document.fullscreenElement) {
                if (player.requestFullscreen) {
                    player.requestFullscreen();
                } else if (player.webkitRequestFullscreen) {
                    player.webkitRequestFullscreen();
                } else if (player.msRequestFullscreen) {
                    player.msRequestFullscreen();
                }
            } else {
                if (document.exitFullscreen) {
                    document.exitFullscreen();
                } else if (document.webkitExitFullscreen) {
                    document.webkitExitFullscreen();
                } else if (document.msExitFullscreen) {
                    document.msExitFullscreen();
                }
            }
        }
        
        // Update play/pause button
        function updatePlayPauseButton() {
            if (isPlaying) {
                playIcon.classList.add('hidden');
                pauseIcon.classList.remove('hidden');
            } else {
                playIcon.classList.remove('hidden');
                pauseIcon.classList.add('hidden');
            }
        }
        
        // Update volume display
        function updateVolumeDisplay() {
            if (isMuted || currentVolume === 0) {
                volumeIcon.className = 'fas fa-volume-mute';
                volumeLevel.style.width = '0%';
            } else if (currentVolume < 50) {
                volumeIcon.className = 'fas fa-volume-down';
                volumeLevel.style.width = `${currentVolume}%`;
            } else {
                volumeIcon.className = 'fas fa-volume-up';
                volumeLevel.style.width = `${currentVolume}%`;
            }
        }
        
        // Update progress bar
        function updateProgress() {
            if (videoElement.duration) {
                const percent = (videoElement.currentTime / videoElement.duration) * 100;
                progress.style.width = `${percent}%`;
                currentTime.textContent = formatTime(videoElement.currentTime);
            }
        }
        
        // Start progress updates
        function startProgressUpdates() {
            if (progressInterval) clearInterval(progressInterval);
            
            progressInterval = setInterval(() => {
                if (!isSeeking) {
                    updateProgress();
                }
            }, 100);
        }
        
        // Show buffering indicator
        function showBuffering() {
            buffering.style.display = 'block';
        }
        
        // Hide buffering indicator
        function hideBuffering() {
            buffering.style.display = 'none';
        }
        
        // Show error message
        function showError(message) {
            errorMessage.textContent = message;
            errorDisplay.style.display = 'block';
        }
        
        // Hide error message
        function hideError() {
            errorDisplay.style.display = 'none';
        }
        
        // Show notification
        function showNotification(message) {
            // Create a temporary notification element
            const notification = document.createElement('div');
            notification.textContent = message;
            notification.className = 'fixed bottom-4 right-4 bg-[#ff8800] text-black px-4 py-2 rounded shadow-lg z-50';
            document.body.appendChild(notification);
            
            // Remove after 3 seconds
            setTimeout(() => {
                notification.remove();
            }, 3000);
        }
        
        // Format time (seconds to MM:SS or HH:MM:SS)
        function formatTime(seconds) {
            if (isNaN(seconds)) return '00:00';
            
            const hrs = Math.floor(seconds / 3600);
            const mins = Math.floor((seconds % 3600) / 60);
            const secs = Math.floor(seconds % 60);
            
            if (hrs > 0) {
                return `${hrs.toString().padStart(2, '0')}:${mins.toString().padStart(2, '0')}:${secs.toString().padStart(2, '0')}`;
            } else {
                return `${mins.toString().padStart(2, '0')}:${secs.toString().padStart(2, '0')}`;
            }
        }
        
        // Format file size
        function formatFileSize(bytes) {
            if (bytes === 0) return '0 Bytes';
            
            const k = 1024;
            const sizes = ['Bytes', 'KB', 'MB', 'GB'];
            const i = Math.floor(Math.log(bytes) / Math.log(k));
            
            return parseFloat((bytes / Math.pow(k, i)).toFixed(2)) + ' ' + sizes[i];
        }
        
        // Get video error text
        function getVideoErrorText(errorCode) {
            switch (errorCode) {
                case 1: return 'MEDIA_ERR_ABORTED - The fetching process for the media resource was aborted by the user.';
                case 2: return 'MEDIA_ERR_NETWORK - A network error occurred while fetching the media resource.';
                case 3: return 'MEDIA_ERR_DECODE - An error occurred while decoding the media resource.';
                case 4: return 'MEDIA_ERR_SRC_NOT_SUPPORTED - The media resource could not be loaded, either because the server or network failed, or because the format is not supported.';
                default: return `Unknown error (code: ${errorCode})`;
            }
        }
    </script>
</body>
</html>
